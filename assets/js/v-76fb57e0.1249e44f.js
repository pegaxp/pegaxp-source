"use strict";(self.webpackChunkpegaxp=self.webpackChunkpegaxp||[]).push([[610],{7839:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t={key:"v-76fb57e0",path:"/reference/service-rest.html",title:"Service REST",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Container",slug:"container",children:[{level:3,title:"Descrição do serviço",slug:"descricao-do-servico",children:[]},{level:3,title:"Estrutura do serviço",slug:"estrutura-do-servico",children:[]},{level:3,title:"Exemplo de Request",slug:"exemplo-de-request",children:[]},{level:3,title:"Exemplo de Response",slug:"exemplo-de-response",children:[]}]},{level:2,title:"CaptureResponse",slug:"captureresponse",children:[{level:3,title:"Descrição do serviço",slug:"descricao-do-servico-1",children:[]},{level:3,title:"Estrutura do serviço",slug:"estrutura-do-servico-1",children:[]},{level:3,title:"Exemplo de request",slug:"exemplo-de-request-1",children:[]},{level:3,title:"Exemplo de response",slug:"exemplo-de-response-1",children:[]}]}],filePathRelative:"reference/service-rest.md",git:{updatedTime:1637501401e3,contributors:[{name:"Ian Lucas",email:"ianlucas_ferreira@hotmail.com",commits:2}]}}},9373:(n,s,a)=>{a.r(s),a.d(s,{default:()=>o});const t=(0,a(6252).uE)('<h1 id="service-rest" tabindex="-1"><a class="header-anchor" href="#service-rest" aria-hidden="true">#</a> Service REST</h1><h2 id="container" tabindex="-1"><a class="header-anchor" href="#container" aria-hidden="true">#</a> Container</h2><table><thead><tr><th>Framework</th><th>Endpoint</th><th>Método</th></tr></thead><tbody><tr><td>Pega Marketing</td><td>/prweb/api/PegaMKTContainer/V2/Container</td><td>POST</td></tr></tbody></table><h3 id="descricao-do-servico" tabindex="-1"><a class="header-anchor" href="#descricao-do-servico" aria-hidden="true">#</a> Descrição do serviço</h3><p>Este serviço é responsável por chamar um Container para obter a melhor oferta a ser oferecida ao cliente. As ofertas retornam com um InteractionID que pode ser utilizado no serviço exposto que captura intrações, <a href="#captureresponse">CaptureResponse</a>.</p><h3 id="estrutura-do-servico" tabindex="-1"><a class="header-anchor" href="#estrutura-do-servico" aria-hidden="true">#</a> Estrutura do serviço</h3><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th><th>Domínio¹</th></tr></thead><tbody><tr><td><code>SubjectID</code></td><td>String</td><td>Identificação do cliente da interação.</td><td>Livre</td></tr><tr><td><code>ContextName</code></td><td>String</td><td>Contexto da interação, normalmente <code>Customer</code>.</td><td>Livre</td></tr><tr><td><code>ContainerName</code></td><td>String</td><td>Nome do Container associado à interação.</td><td>Livre</td></tr><tr><td><code>Direction</code></td><td>String</td><td>Tipo da direção da interação.</td><td><code>Inbound</code>, <code>Outbound</code></td></tr><tr><td><code>Channel</code></td><td>String</td><td>Tipo de canal da interação.</td><td><code>Web</code>, <code>Mobile</code></td></tr></tbody></table><h3 id="exemplo-de-request" tabindex="-1"><a class="header-anchor" href="#exemplo-de-request" aria-hidden="true">#</a> Exemplo de Request</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n    <span class="token property">&quot;SubjectID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;87837589092&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;ContextName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Customer&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;ContainerName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Aplicativo&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;Direction&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Inbound&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;Channel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Web&quot;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="exemplo-de-response" tabindex="-1"><a class="header-anchor" href="#exemplo-de-response" aria-hidden="true">#</a> Exemplo de Response</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n    <span class="token property">&quot;Status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;ContainerList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n            <span class="token property">&quot;Status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;ContainerName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Aplicativo&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;RankedResults&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n                <span class="token punctuation">{</span>\n                    <span class="token property">&quot;Group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Vitrine&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Issue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Aquisicao&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;InteractionID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-3108136487247955566&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Banner&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;CustomerCost&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;ContentFormat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Chave Pix&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Benefits&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Esta action corresponde a um banner de chave pix.&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;WhyRelevant&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Direction&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ChavePix&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;ShortDescription&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Representa o banner para ativação de chave pix.&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;PaidAudienceName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/Aquisicao/Vitrine/ChavePix&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Placement&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Pricing&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;JourneyStage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;JourneyStep&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;EligibilityDescription&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Propensity&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;AgentCompensation&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;ClassIdentifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Offer&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Priority&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Channel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;BundleName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;ImageURL&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Rank&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;BundleParent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Variant&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Chave pix&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Treatment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;InternalCost&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;CampaignID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;P-1&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;OfferValue&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;ClickThroughURL&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;Journey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n                    <span class="token property">&quot;DecisionTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20211114T172010.524 GMT&quot;</span>\n                <span class="token punctuation">}</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h2 id="captureresponse" tabindex="-1"><a class="header-anchor" href="#captureresponse" aria-hidden="true">#</a> CaptureResponse</h2><table><thead><tr><th>Framework</th><th>Endpoint</th><th>Método</th></tr></thead><tbody><tr><td>Pega Marketing</td><td>/prweb/api/PegaMKTContainer/V2/CaptureResponse</td><td>POST</td></tr></tbody></table><h3 id="descricao-do-servico-1" tabindex="-1"><a class="header-anchor" href="#descricao-do-servico-1" aria-hidden="true">#</a> Descrição do serviço</h3><p>Este serviço é responsável por capturar uma interação do cliente com uma oferta, principalmente Impressão (Impression) e Cliques (Clicked).</p><p>Por padrão, o serviço do Pega Marketing não contabilizará unique impression para as requisições neste serviço, <a href="/guide/pega-marketing/capturing-unique-impression-and-click">siga este guia</a> para corrigir este comportamento.</p><h3 id="estrutura-do-servico-1" tabindex="-1"><a class="header-anchor" href="#estrutura-do-servico-1" aria-hidden="true">#</a> Estrutura do serviço</h3><table><thead><tr><th>Propriedade</th><th>Tipo</th><th>Descrição</th><th>Domínio¹</th></tr></thead><tbody><tr><td><code>ContainerName</code></td><td>String</td><td>Nome do Container associado à interação.</td><td>Livre</td></tr><tr><td><code>CustomerID</code></td><td>String</td><td>Identificação do cliente associado à interação.</td><td>Livre</td></tr><tr><td><code>RankedResults</code></td><td>Array</td><td>Lista de ofertas que tiveram uma interação.</td><td>Livre</td></tr><tr><td><code>RankedResults.Name</code></td><td>String</td><td>Nome da oferta da interação.</td><td>Livre</td></tr><tr><td><code>RankedResults.Issue</code></td><td>String</td><td>Issue da oferta da interação.</td><td>Livre</td></tr><tr><td><code>RankedResults.Group</code></td><td>String</td><td>Group da oferta da interação.</td><td>Livre</td></tr><tr><td><code>RankedResults.Rank</code></td><td>Number</td><td>Rank da oferta retornado no <a href="#container">serviço de Container</a>.</td><td>Livre</td></tr><tr><td><code>RankedResults.CampaignID</code></td><td>String</td><td>Nome da campanha da interação.</td><td>Livre</td></tr><tr><td><code>RankedResults.InteractionID</code></td><td>String</td><td>Identificação da interação.</td><td>Livre</td></tr><tr><td><code>RankedResults.Outcome</code></td><td>String</td><td>Resultado da interação.</td><td><code>Impression</code>, <code>Clicked</code></td></tr><tr><td><code>RankedResults.Channel</code></td><td>String</td><td>Tipo de canal da interação.</td><td><code>Web</code>, <code>Mobile</code></td></tr><tr><td><code>RankedResults.Direction</code></td><td>String</td><td>Tipo da direção da interação.</td><td><code>Inbound</code>, <code>Outbound</code></td></tr></tbody></table><h3 id="exemplo-de-request-1" tabindex="-1"><a class="header-anchor" href="#exemplo-de-request-1" aria-hidden="true">#</a> Exemplo de request</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n    <span class="token property">&quot;ContainerName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Aplicativo&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;CustomerID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;87837589092&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;RankedResults&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ChavePix&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;Issue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Aquisicao&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;Group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Vitrine&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;Rank&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;CampaignID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;P-1&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;InteractionID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-3108136487247955566&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;Outcome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Clicked&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;Channel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Web&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;Direction&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Inbound&quot;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="exemplo-de-response-1" tabindex="-1"><a class="header-anchor" href="#exemplo-de-response-1" aria-hidden="true">#</a> Exemplo de response</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n    <span class="token property">&quot;Status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;Message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Response captured sucessfully&quot;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>¹ Os domínios devem ser exaustivos. A medida que formos tomando conhecimento, a lista será atualizada.</p>',23),e={},o=(0,a(3744).Z)(e,[["render",function(n,s){return t}]])},3744:(n,s)=>{s.Z=(n,s)=>{for(const[a,t]of s)n[a]=t;return n}}}]);